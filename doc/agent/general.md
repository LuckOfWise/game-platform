# 開発ガイドライン

このファイルは、コーディングエージェントがこのリポジトリで作業する際のガイダンスを提供します。

## 基本原則

- 各種ガイドラインに従うこと
- 各種ガイドラインについては以下のREADMEを参照してください
- [@doc/agent/README.md](doc/agent/README.md)

### コードコメント
- **基本的にコメントは記述しない**
- コードは自己説明的であることを優先し、メソッド名や変数名で意図を明確にする
- 変数名、メソッド名、クラス名などの識別子は英語を使用する
- 英語のコメントは禁止（このドキュメントファイル等のドキュメント類は除く）

#### 例外的にコメントを記述する場合
以下の場合に限り、コメントを記述することができます（ただし極力避ける）：

##### 対応期限付きTODOコメント
対応期限が明確なTODOコメントについては、以下の形式で記述する：

```ruby
# TODO[YYYY-MM-DD]: 対応内容の説明
```

**例**：
```ruby
# TODO[2025-09-30]: https://github.com/threedaymonk/htmlbeautifier/pull/89 がマージされたらリリース版に切り替える
```

### 品質保証のワークフロー

#### 実装前チェックリスト
1. 既存の実装パターンを確認する
2. データベース構造と関連付けを理解する
3. 類似機能の実装を参考にする

#### 実装後チェックリスト
1. **テスト**: モデルスペック、リクエストスペックを実行
2. **Lint**: RuboCopを実行
3. **セキュリティ**: Brakemanでセキュリティチェック実行
4. **パフォーマンス**: N+1問題の確認（特にActive Recordクエリ）
5. **コードレビュー**: 既存のコーディング規約に準拠しているか確認
