# AIエージェント共通ガイドライン

このディレクトリには、GitHub CopilotとClaude Codeで共有するAIエージェント向けガイドラインを格納しています。

## ファイル構成

### ガイドラインファイル（AIエージェント共通）
- `general.md` - 一般的な開発ガイドライン（全ファイル対象）
- `code-review.md` - プロジェクト固有のコードレビューガイドライン
- `code-review-rails.md` - Rails共通のコードレビューガイドライン
- `models.md` - モデルレイヤーガイドライン（app/models/**/*対象）
- `controllers.md` - コントローラーレイヤーガイドライン（app/controllers/**/*対象）
- `views.md` - ビューレイヤーガイドライン（app/views/**/*対象）
- `styles.md` - CSSスタイルガイドライン
- `spec.md` - RSpecテストガイドライン（spec/**/*対象）
- `routes.md` - ルーティングガイドライン（config/routes.rb対象）
- `migrate.md` - マイグレーションガイドライン（db/migrate/**/*対象）
- `capybara.md` - Capybaraテストガイドライン（将来の参考用）

### ルールファイル（各AIエージェント用）
ガイドラインファイルを参照するためのルールファイルが `.claude/rules/` に配置されています。

## 利用方法

### Claude Code
`.claude/rules/` 内のファイルが自動的にこちらのドキュメントを参照します。

## ルールファイル作成手順

新しいディレクトリに対してAIエージェント向けのルールファイルを作成する場合の手順：

### 1. ガイドラインファイルの確認

対象ディレクトリに対応するガイドラインファイルが `doc/agent/` 内に存在することを確認してください。
存在しない場合は、既存ファイルを参考に適切なガイドラインを作成してください。

### 2. Claude Code用ルールファイル作成

`.claude/rules/` にルールファイルを作成します：

```markdown
---
paths:
  - "対象パス/**/*"
---

以下のガイドラインを参照してください：

- [@doc/agent/ガイドライン名.md](../../doc/agent/ガイドライン名.md)
```

## メンテナンス

### ガイドライン更新
ガイドラインの更新は、このディレクトリ内のファイルを直接編集してください。

### ルールファイル追加時のチェックポイント
- 相対パスが正しく設定されているか
- 既存ファイルとフォーマットが統一されているか
- 対応するガイドラインファイルが存在するか
